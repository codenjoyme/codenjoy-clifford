
before()

winnerIsTheOneWhoBuriedTheMostPlayers()
    settings().bool(ROUNDS_ENABLED, true)
    settings().integer(ROUNDS_TIME_BEFORE_START, 1)
    settings().integer(ROUNDS_PER_MATCH, 1)
    settings().integer(ROUNDS_TIME, 30)
    settings().integer(ROUNDS_TIME_FOR_WINNER, 5)
    settings().integer(ROUNDS_PLAYERS_PER_ROOM, 8)
    settings().integer(KILL_HERO_SCORE, 1)
    settings().integer(ROUND_WIN, 50)
    givenFl(
        ☼☼☼☼☼☼☼☼☼☼
        ☼        ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼)
        dice(0)
    givenPlayer([3,2])
        dice(3, 2)
    givenPlayer([6,2])
        dice(6, 2)
    givenPlayer([1,2])
        dice(1, 2)
    givenPlayer([8,2])
        dice(8, 2)
    givenPlayer([1,5])
        dice(1, 5)
    givenPlayer([8,5])
        dice(8, 5)
    givenPlayer([1,8])
        dice(1, 8)
    givenPlayer([8,8])
        dice(8, 8)
    tick()
    events().getEvents() = 
        listener(0) => [START_ROUND, [Round 1]]
        listener(1) => [START_ROUND, [Round 1]]
        listener(2) => [START_ROUND, [Round 1]]
        listener(3) => [START_ROUND, [Round 1]]
        listener(4) => [START_ROUND, [Round 1]]
        listener(5) => [START_ROUND, [Round 1]]
        listener(6) => [START_ROUND, [Round 1]]
        listener(7) => [START_ROUND, [Round 1]]
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼»      »☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼»  HH  »☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼» ►HH» »☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    hero(0).left()
    hero(0).act()
    hero(1).right()
    hero(1).act()
    hero(2).right()
    hero(3).left()
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼»      »☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼»  HH  »☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼ F◄HH»F ☼
        ☼#*#HH#*#☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    hero(0).right()
    hero(1).left()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).left()
    hero(1).right()
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼»      »☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼» ◄HH» »☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼#K#HH#K#☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    hero(0).left()
    hero(0).act()
    hero(1).right()
    hero(1).act()
    hero(4).right()
    hero(5).left()
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼»      »☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼ F◄HH»F ☼
        ☼#*#HH#*#☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼#K#HH#K#☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    hero(0).right()
    hero(1).left()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).left()
    hero(1).right()
    tick()
    events().getEvents() = 
    tick()
    events().getEvents() = 
        listener(0) => [KILL_HERO]
        listener(1) => [KILL_HERO]
        listener(2) => [HERO_DIE]
        listener(3) => [HERO_DIE]
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼» ◄  » »☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼#K#HH#K#☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼#C#HH#C#☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    field().remove()
    field().remove()
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼» ◄  » »☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼#K#HH#K#☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    hero(0).left()
    hero(0).act()
    hero(1).right()
    hero(1).act()
    hero(6).right()
    hero(7).left()
    field().remove()
    field().remove()
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼ F◄  »F ☼
        ☼#*#HH#*#☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼#K#HH#K#☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    field().remove()
    field().remove()
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼  ◄  »  ☼
        ☼#K#HH#K#☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼#K#HH#K#☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    field().remove()
    field().remove()
    tick()
    field().remove()
    field().remove()
    tick()
    events().getEvents() = 
    field().remove()
    field().remove()
    tick()
    events().getEvents() = 
        listener(0) => [KILL_HERO]
        listener(1) => [KILL_HERO]
        listener(4) => [HERO_DIE]
        listener(5) => [HERO_DIE]
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼  ◄  »  ☼
        ☼#K#HH#K#☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼#C#HH#C#☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼  ◄  »  ☼
        ☼#K#HH#K#☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    events().getEvents() = 
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    events().getEvents() = 
        listener(0) => [KILL_HERO]
        listener(1) => [KILL_HERO]
        listener(6) => [HERO_DIE]
        listener(7) => [HERO_DIE]
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼  ◄  »  ☼
        ☼#C#HH#C#☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    events().getEvents() = 
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼  ◄  »  ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼  ◄  »  ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    events().getEvents() = 
        listener(0) => [WIN_ROUND]
        listener(1) => [WIN_ROUND]
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼  O  C  ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    hero(0).isAlive() = false
    hero(1).isAlive() = false
    dice(1, 2)
    game(0).newGame()
    dice(8, 2)
    game(1).newGame()
    field().countPlayers() = 2
    events().getEvents() = 
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼        ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼O  HH  C☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    field().remove()
    tick()
    field().countPlayers() = 2
    events().getEvents() = 
        listener(0) => [START_ROUND, [Round 2]]
        listener(1) => [START_ROUND, [Round 2]]
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼        ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼►  HH  »☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)

after()
    events().getEvents() = 