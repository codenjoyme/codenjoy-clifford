
before()

heroKillHeroAndKillEnemy()
    settings().bool(ROUNDS_ENABLED, true)
    settings().integer(ROUNDS_TIME_BEFORE_START, 1)
    settings().integer(ROUNDS_PLAYERS_PER_ROOM, 4)
    settings().integer(KILL_HERO_SCORE, 1)
    settings().integer(KILL_ENEMY_SCORE, 10)
    givenFl(
        ☼☼☼☼☼☼☼☼☼☼
        ☼        ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼)
        dice(0)
    givenPlayer([3,2])
        dice(3, 2)
    givenPlayer([6,2])
        dice(6, 2)
    givenPlayer([1,2])
        dice(1, 2)
    givenPlayer([8,2])
        dice(8, 2)
    tick()
    events().getEvents() = 
        listener(0) => [START_ROUND, [Round 1]]
        listener(1) => [START_ROUND, [Round 1]]
        listener(2) => [START_ROUND, [Round 1]]
        listener(3) => [START_ROUND, [Round 1]]
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼        ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼( ►HH❪ (☼
        ☼###HH###☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    hero(0).left()
    hero(0).act()
    hero(1).right()
    hero(1).act()
    hero(2).right()
    hero(3).left()
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼        ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼ ⊐ЯHH⟦⊐ ☼
        ☼#*#HH#*#☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    hero(0).right()
    hero(1).left()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).left()
    hero(1).right()
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼        ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼  ◄HH❪  ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼#ᗉ#HH#ᗉ#☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼☼☼
        ☼        ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼  ◄HH❪  ☼
        ☼###HH###☼
        ☼☼☼☼HH☼☼☼☼
        ☼   HH   ☼
        ☼#ᗉ#HH#ᗉ#☼
        ☼☼☼☼☼☼☼☼☼☼,
        0)
    hero(0).right()
    hero(1).left()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).up()
    hero(1).up()
    tick()
    hero(0).left()
    hero(1).right()
    tick()
    events().getEvents() = 
    tick()
    events().getEvents() = 
        listener(0) => [KILL_HERO]
        listener(1) => [KILL_ENEMY]
        listener(2) => [HERO_DIE]
        listener(3) => [HERO_DIE]

after()
    events().getEvents() = 