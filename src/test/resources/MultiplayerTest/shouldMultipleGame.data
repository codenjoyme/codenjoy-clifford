
before()

shouldMultipleGame()
    givenFl(
        ☼☼☼☼☼☼
        ☼► ► ☼
        ☼####☼
        ☼ ► $☼
        ☼####☼
        ☼☼☼☼☼☼)
        givenPlayer([1,4])
            dice(1, 4)
        givenPlayer([3,4])
            dice(3, 4)
        givenPlayer([2,2])
            dice(2, 2)
        dice(0)
    assertF(
        ☼☼☼☼☼☼
        ☼► ( ☼
        ☼####☼
        ☼ ( $☼
        ☼####☼
        ☼☼☼☼☼☼,
        0)
    assertF(
        ☼☼☼☼☼☼
        ☼( ► ☼
        ☼####☼
        ☼ ( $☼
        ☼####☼
        ☼☼☼☼☼☼,
        1)
    assertF(
        ☼☼☼☼☼☼
        ☼( ( ☼
        ☼####☼
        ☼ ► $☼
        ☼####☼
        ☼☼☼☼☼☼,
        2)
    hero(0).right()
    hero(1).right()
    hero(2).left()
    tick()
    assertF(
        ☼☼☼☼☼☼
        ☼ ► (☼
        ☼####☼
        ☼)  $☼
        ☼####☼
        ☼☼☼☼☼☼,
        0)
    assertF(
        ☼☼☼☼☼☼
        ☼ ( ►☼
        ☼####☼
        ☼)  $☼
        ☼####☼
        ☼☼☼☼☼☼,
        1)
    assertF(
        ☼☼☼☼☼☼
        ☼ ( (☼
        ☼####☼
        ☼◄  $☼
        ☼####☼
        ☼☼☼☼☼☼,
        2)
    hero(0).act()
    game(1).close()
    field().remove()
    tick()
    assertF(
        ☼☼☼☼☼☼
        ☼ R  ☼
        ☼##*#☼
        ☼)  $☼
        ☼####☼
        ☼☼☼☼☼☼,
        0)
    assertF(
        ☼☼☼☼☼☼
        ☼ ⌊  ☼
        ☼##*#☼
        ☼◄  $☼
        ☼####☼
        ☼☼☼☼☼☼,
        2)
    hero(0).right()
    field().remove()
    tick()
    field().remove()
    tick()
    field().remove()
    tick()
    assertF(
        ☼☼☼☼☼☼
        ☼    ☼
        ☼## #☼
        ☼) ►$☼
        ☼####☼
        ☼☼☼☼☼☼,
        0)
    assertF(
        ☼☼☼☼☼☼
        ☼    ☼
        ☼## #☼
        ☼◄ ($☼
        ☼####☼
        ☼☼☼☼☼☼,
        2)
    hero(0).left()
    hero(0).act()
    hero(2).right()
    field().remove()
    tick()
    assertF(
        ☼☼☼☼☼☼
        ☼    ☼
        ☼## #☼
        ☼ ⊐Я$☼
        ☼#*##☼
        ☼☼☼☼☼☼,
        0)
    assertF(
        ☼☼☼☼☼☼
        ☼    ☼
        ☼## #☼
        ☼ ]⌋$☼
        ☼#*##☼
        ☼☼☼☼☼☼,
        2)
    field().remove()
    tick()
    field().remove()
    tick()
    field().remove()
    tick()
    field().remove()
    tick()
    field().remove()
    tick()
    field().remove()
    tick()
    field().remove()
    tick()
    field().remove()
    tick()
    field().remove()
    tick()
    field().remove()
    tick()
    field().remove()
    tick()
    field().remove()
    tick()
    assertF(
        ☼☼☼☼☼☼
        ☼    ☼
        ☼####☼
        ☼  Я$☼
        ☼#Z##☼
        ☼☼☼☼☼☼,
        0)
    assertF(
        ☼☼☼☼☼☼
        ☼    ☼
        ☼####☼
        ☼  ⌋$☼
        ☼#Ѡ##☼
        ☼☼☼☼☼☼,
        2)
    events().getEvents() = 
        listener(0) => [KILL_HERO]
        listener(1) => [HERO_DIE]
        listener(2) => [HERO_DIE]
    game(1).isGameOver() = true
    dice(1, 4)
    game(2).newGame()
    field().remove()
    tick()
    assertF(
        ☼☼☼☼☼☼
        ☼(   ☼
        ☼####☼
        ☼  Я$☼
        ☼####☼
        ☼☼☼☼☼☼,
        0)
    assertF(
        ☼☼☼☼☼☼
        ☼►   ☼
        ☼####☼
        ☼  ⌋$☼
        ☼####☼
        ☼☼☼☼☼☼,
        2)
    hero(0).right()
    dice(1, 2)
    field().remove()
    tick()
    assertF(
        ☼☼☼☼☼☼
        ☼(   ☼
        ☼####☼
        ☼$  ►☼
        ☼####☼
        ☼☼☼☼☼☼,
        0)
    assertF(
        ☼☼☼☼☼☼
        ☼►   ☼
        ☼####☼
        ☼$  (☼
        ☼####☼
        ☼☼☼☼☼☼,
        2)
    events().getEvents() = 
        listener(0) => [GET_CLUE_KNIFE(1)]

after()
    events().getEvents() = 