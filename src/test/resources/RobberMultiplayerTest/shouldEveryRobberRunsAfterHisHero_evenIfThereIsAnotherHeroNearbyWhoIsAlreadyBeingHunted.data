
before()

shouldEveryRobberRunsAfterHisHero_evenIfThereIsAnotherHeroNearbyWhoIsAlreadyBeingHunted()
    settings().integer(ROBBERS_COUNT, 2)
    givenFl(
        ☼☼☼☼☼☼☼☼
        ☼(  ► (☼
        ☼H####H☼
        ☼H    H☼
        ☼###H##☼
        ☼  ►H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼)
        givenPlayer([4,6])
            dice(4, 6)
        givenPlayer([3,2])
            dice(3, 2)
        dice(0)
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼ ( »  ☼
        ☼H####X☼
        ☼H    H☼
        ☼###H##☼
        ☼  ►H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        1)
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼  (»  ☼
        ☼H####H☼
        ☼H    X☼
        ☼###H##☼
        ☼  ►H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        1)
    tick()
    events().getEvents() = 
        listener(0) => [HERO_DIE]
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼   C  ☼
        ☼H####H☼
        ☼H   )H☼
        ☼###H##☼
        ☼  ►H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        1)
    tick()
    events().getEvents() = 
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼   C( ☼
        ☼H####H☼
        ☼H  ) H☼
        ☼###H##☼
        ☼  ►H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        1)
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼   C (☼
        ☼H####H☼
        ☼H    H☼
        ☼###X##☼
        ☼  ►H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        1)
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼   C  ☼
        ☼H####X☼
        ☼H    H☼
        ☼###H##☼
        ☼  ►X  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        1)
    tick()
    events().getEvents() = 
        listener(1) => [HERO_DIE]
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼   C  ☼
        ☼H####H☼
        ☼H    X☼
        ☼###H##☼
        ☼  OH  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        1)
    tick()
    events().getEvents() = 
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼   C  ☼
        ☼H####H☼
        ☼H    X☼
        ☼###H##☼
        ☼  OH  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        1)
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼   C  ☼
        ☼H####H☼
        ☼H    X☼
        ☼###H##☼
        ☼  OH  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        1)
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼      ☼
        ☼H####H☼
        ☼H    X☼
        ☼###H##☼
        ☼  )H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        1)
    givenPlayer([1,2])
        dice(1, 2)
    givenPlayer([5,6])
        dice(5, 6)
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼    ► ☼
        ☼H####H☼
        ☼H    X☼
        ☼###H##☼
        ☼» )H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        3)
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼    ► ☼
        ☼H####X☼
        ☼H    H☼
        ☼###H##☼
        ☼») H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        3)
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼    ► ☼
        ☼H####X☼
        ☼H    H☼
        ☼###H##☼
        ☼ ) H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        3)
    tick()
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼    ►(☼
        ☼H####H☼
        ☼H    H☼
        ☼###H##☼
        ☼  (H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        3)
    tick()
    events().getEvents() = [HERO_DIE]
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼    O ☼
        ☼H####H☼
        ☼H    H☼
        ☼###H##☼
        ☼  (H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        3)
    tick()
    events().getEvents() = 
    assertF(
        ☼☼☼☼☼☼☼☼
        ☼    O ☼
        ☼H####H☼
        ☼H    H☼
        ☼###H##☼
        ☼  (H  ☼
        ☼######☼
        ☼☼☼☼☼☼☼☼,
        3)

after()
    events().getEvents() = 